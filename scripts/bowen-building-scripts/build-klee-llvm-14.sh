#!/bin/bash
cmake -DLLVM_DIR=/usr/lib/llvm-14 -DLLVMCC=/usr/bin/clang \
    -DLLVMCXX=/usr/bin/clang++ -DENABLE_SOLVER_Z3=ON -DENABLE_POSIX_RUNTIME=ON \
    -DKLEE_UCLIBC_PATH=$KLEE_BUILDING_DEPENDENCIES_DIR/klee-uclibc/ \
    -DENABLE_UNIT_TESTS=ON \
    -DGTEST_SRC_DIR=$KLEE_BUILDING_DEPENDENCIES_DIR/googletest-release-1.11.0/ \
    -DENABLE_KLEE_LIBCXX=ON \
    -DKLEE_LIBCXX_DIR=$KLEE_BUILDING_DEPENDENCIES_DIR/libcxx/libc++-install-140/ \
    -DKLEE_LIBCXX_INCLUDE_DIR=$KLEE_BUILDING_DEPENDENCIES_DIR/libcxx/libc++-install-140/include/c++/v1/ \
    -DENABLE_KLEE_EH_CXX=ON \
    -DKLEE_LIBCXXABI_SRC_DIR=$KLEE_BUILDING_DEPENDENCIES_DIR/libcxx/llvm-140/libcxxabi \
    ..
make -j16
